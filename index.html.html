<!DOCTYPE html>
<html>
<body>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.13.3/themes/smoothness/jquery-ui.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.13.3/jquery-ui.min.js"></script>
    
    <link rel="stylesheet" href="styles.css">

    <div id="board"> </div>
    <div id="inputBoard"> </div>

    <script src="boardSetup.js"></script>
    <script src="errors.js"></script>
    <script src = clickCell.js> </script>
    <script>
    $( ".inputCell" ).on( "click", function(){
        if ($(".selectedPrimary").length == 1 && !$(".selectedPrimary").hasClass("locked")) {
            const selectedCell = $(".selectedPrimary").first()
            const selectedNumber = $(this).attr("id").charAt(2)
            const id = $(selectedCell).attr("id")
            const cellX = Number(id.charAt(0))
            const cellY = Number(id.charAt(1))

            if (selectedNumber == "0" || selectedCell.children().eq(0).html() == selectedNumber) {
                selectedCell.children().eq(0).html("")
                board[cellX][cellY] = 0
            } else {
                selectedCell.children().eq(0).html(selectedNumber)
                board[cellX][cellY] = Number(selectedNumber)
                
            }
            checkErrors()
        }
        })

    $(document).on( "keydown", function(event) {
        if ([0,1,2,3,4,5,6,7,8,9].includes(Number(event.key))) {
            if ($(".selectedPrimary").length == 1 && !$(".selectedPrimary").hasClass("locked")) {
                const selectedCell = $(".selectedPrimary").first()
                const selectedNumber = event.key
                const id = $(selectedCell).attr("id")
                const cellX = Number(id.charAt(0))
                const cellY = Number(id.charAt(1))

                if (selectedNumber == "0" || selectedCell.children().eq(0).html() == selectedNumber) {
                    selectedCell.children().eq(0).html("")
                    board[cellX][cellY] = 0
                } else {
                    selectedCell.children().eq(0).html(selectedNumber)
                    board[cellX][cellY] = Number(selectedNumber)
                }
                
            }
            checkErrors()
        }
    });
</script>
</body>
</html>